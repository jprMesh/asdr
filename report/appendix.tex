\appendix
\chapter{MATLAB Examples}
\section{Energy Detection Example}
\label{app:energy_detection}
\begin{verbatim}

clear all;
close all;
N = 10000; % N is length of Signal 
Nbins = 1024;
%Set Threshold to check if signal is there.
thresh = 200;

f = 500e3;
Fs = 5e6;
t = (1:N)* 1/Fs;

noise = randn(1,N);
sig = cos(2*pi*f * t);

% Do FFT on time, noise.
fft_noise = fft(noise, Nbins);
fft_sig = fft(sig, Nbins);

mag_noise = abs(fft_noise);
mag_sig = abs(fft_sig);

% Plot FFT results
figure(1);
% Hist values in bins, randn.
plot(-(Nbins-1)/2:(Nbins-1)/2,mag_noise,-(Nbins-1)/2:(Nbins-1)/2,thresh*ones(1,Nbins));
title('FFT Bin Values, Noise');
axis([-512 512 0 250]);

figure(2);
% Hist values in bins, cos.
plot(-(Nbins-1)/2:(Nbins-1)/2,mag_sig,-(Nbins-1)/2:(Nbins-1)/2,thresh*ones(1,Nbins));
axis([-512 512 0 250]);
title('FFT Bin Values, Signal');


% Determine if either value passes threshold.
noise_passes_thresh = (max(mag_noise)>thresh)
sig_passes_thresh = (max(mag_sig)>thresh)
\end{verbatim}
\section{Matched Filter Example}
\label{app:matched_filter}
\begin{verbatim}
clear all;
close all;

%Seed to generate expected value (so threshold is always applicable).
rng(500);
%Size of random signal, representing noise
N=400;
%pick thresh to separate matched result to unmatched result.
thresh=20;

%Example packet to look for
toMatch = [1 -1 -1 -1 1 1 -1 1 1 -1 -1 -1 -1 -1 1 1 1 -1 1 1 1 1 -1 -1 1];
%Reverse, so a filter operation will instead correlate. Shifted back to
%positive to be causal.
reverseMatch = toMatch(end:-1:1);

%Generate random signal.
noise = randn(1,N);
%make signal with noise and 
noise_signal = noise;

%Add expected packet to signal.
for i=50:length(toMatch) + 49
    noise_signal(i) =  noise(i)+toMatch(i-49);
end

figure(1);
plot(noise_signal);
title('Noisy Signal With Match Header');

%filter noise_signal
filt_sig= filter(reverseMatch,1, noise_signal);
figure(2);
plot(1:length(filt_sig),filt_sig,1:length(filt_sig),thresh*ones(length(filt_sig)));
title('Match Filtered Signal');
\end{verbatim}
\pagebreak
\chapter{Design Configurations}
\section{SBC Selection}
\begin{landscape}
    \begin{table}[h!]
    \caption{SBC Selection}
    \label{table:sbc_selection}
    \centering
    \begin{tabular}{|l|l|l|l|l|l|l|}
        \hline              & ODROID-XU4 & UP Board       & Inforce 6540   & EPIA-P90       & Jetway NP93   & Jetson TK-1      \\ \hline
        Size                & 82 x 58 mm & 86 x 57 mm     &                & 100 x 72 mm    & 100 x 72 mm   &                  \\
        Weight              & 38 grams   & 88 grams       &                &                &               &                  \\
        Power Usage         & 1-4A       & 3A             & 3A             &                &               &                  \\
        Power Voltage       & 5V, 4A     & 5V, 3A         & 12V, 3A        & 12V            &               &                  \\
        CPU                 & Exynos5422 & Intel x5-Z8350 & Snapdragon 805 & VIA Eden       & Intel N2930   & NVIDIA Quad Core \\
        RAM                 & 2GB        & 4GB            & 2GB            & Up to 8GB      & 2GB           & 2GB x 16         \\
        USB 3.0             & Yes        & Yes            & Yes            & Yes            & Yes           & Yes              \\
        OS                  & Linux      & Windows/Linux  &                & Windows/Linux  & Windows/Linux &                  \\
        Price               & \$74       & \$130          & \$240          & \$359          & \$200         & \$192            \\ \hline
    \end{tabular}
    \end{table}
\end{landscape} \par
\section{Approach One}
\begin{table}[h!]
\centering
\caption{Approach One Design Configuration}
\label{table:approach_one}
\begin{tabular}{|l|l|}
    \hline  \textbf{Hardware Design}              & \textbf{Description}                      \\ \hline
            Drone                                 & 3DR Solo                                  \\
            SDR                                   & B-200 Mini                                \\
            Antenna                               & Alfa APA-M25                              \\
            Flight Time                           & 25 min                                    \\
            Flight Speed                          & 5-10 mph                                  \\
            SBC (Computer)                        & Up Board                                  \\
            Compute Battery                       & 12V 800mAh stepped down to 5V             \\
            Payload                               & 700 grams                                 \\
            Storage                               & 32 GB flash drive                         \\
            Antenna Configuration                 & Antenna pointed down                      \\
    \hline  \textbf{Communications Design}        & \textbf{Description}                      \\ \hline
            Drone operation                       & Human Controlled                          \\
            Environment to Drone Frequency        & 2.4 GHz                                   \\
            Controller to Drone TX Frequency      & 5.7 GHz                                   \\
            Controller to Drone TX Period         & Instantaneous (Drone dependent)           \\
            Controller to Drone TX Content        & Control                                   \\
            Drone to Base TX Frequency            & 900 MHz                                   \\
            Drone to Base TX Period               & 2 Hz (Every time drone stops)             \\
            Drone to Base TX Content              & Location and power level if detected      \\
    \hline  \textbf{Signal Processing Design}     & \textbf{Description}                      \\ \hline
            Onboard Computer Processing           & Sensing                                   \\
            Offboard Computer Processing          & Localization                              \\
            SDR FPGA Processing                   & Available if needed                       \\
            Real Time Localization                & No                                        \\
            Sampling Technique                    & User controlled, record bursts of data    \\
            Sampling Space Distance               & User Controlled                           \\
            Number of Samples per Location        & Bursts every half second                  \\
            Localization Method                   & RSS Triangulation (Average RSS over time) \\
            Energy Sensing Technique              & Filter and energy detection               \\ \hline
\end{tabular}
\end{table}\par
\pagebreak
\section{Approach Two}
\begin{table}[h!]
\centering
\caption{Approach Two Design Configuration}
\label{table:approach_two}
\begin{tabular}{|l|l|}
    \hline  \textbf{Hardware Design}              & \textbf{Description}                      \\ \hline
            Drone                                 & DJI S1000                                 \\
            SDR                                   & B-200 Mini                                \\
            Antenna                               & Alfa APA-M25                              \\
            Flight Time                           & 25 min                                    \\
            Flight Speed                          & 5-10 mph                                  \\
            SBC (Computer)                        & Up Board                                  \\
            Compute Battery                       & 12V 800mAh stepped down to 5V             \\
            Payload                               & 2000 grams                                \\
            Storage                               & 32 GB flash drive                         \\
            Antenna Configuration                 & Antenna pointed down                      \\
    \hline  \textbf{Communications Design}        & \textbf{Description}                      \\ \hline
            Drone operation                       & Human Controlled                          \\
            Environment to Drone Frequency        & 2.4 GHz                                   \\
            Controller to Drone TX Frequency      & 900 MHz                                   \\
            Controller to Drone TX Period         & Instantaneous (Drone dependent)           \\
            Controller to Drone TX Content        & Control                                   \\
            Drone to Base TX Frequency            & 5.7 GHz                                   \\
            Drone to Base TX Period               & 2 Hz (Every time drone stops)             \\
            Drone to Base TX Content              & Location and power level if detected      \\
    \hline  \textbf{Signal Processing Design}     & \textbf{Description}                      \\ \hline
            Onboard Computer Processing           & Sensing                                   \\
            Offboard Computer Processing          & Localization                              \\
            SDR FPGA Processing                   & Available if needed                       \\
            Real Time Localization                & No                                        \\
            Sampling Technique                    & User controlled, record bursts of data    \\
            Sampling Space Distance               & User Controlled                           \\
            Number of Samples per Location        & Bursts every half second                  \\
            Localization Method                   & RSS Triangulation (Average RSS over time) \\
            Energy Sensing Technique              & Filter and energy detection               \\ \hline
\end{tabular}
\end{table}\par
\pagebreak
\section{Approach Three}
\begin{table}[h]
\centering
\caption{Approach Three Design Configuration}
\label{table:approach_three}
\begin{tabular}{|l|l|}
    \hline  \textbf{Hardware Design}              & \textbf{Description}                      \\ \hline
            Drone                                 & 3DR Solo                                  \\
            SDR                                   & B-200 Mini                                \\
            Antenna                               & Alfa APA-M25                              \\
            Flight Time                           & 25 min                                    \\
            Flight Speed                          & 5-10 mph                                  \\
            SBC (Computer)                        & Up Board                                  \\
            Compute Battery                       & 12V 800mAh stepped down to 5V             \\
            Payload                               & 700 grams                                 \\
            Storage                               & 32 GB flash drive                         \\
            Antenna Configuration                 & Antenna pointed down                      \\
    \hline  \textbf{Communications Design}        & \textbf{Description}                      \\ \hline
            Drone operation                       & Human Controlled                          \\
            Environment to Drone Frequency        & 2.4 GHz                                   \\
            Controller to Drone TX Frequency      & N/A                                       \\
            Controller to Drone TX Period         & N/A                                       \\
            Controller to Drone TX Content        & Kill/Return home signal                   \\
            Drone to Base TX Frequency            & 900 MHz                                   \\
            Drone to Base TX Period               & 2 Hz (Every time drone stops)             \\
            Drone to Base TX Content              & Location and power level if detected      \\
    \hline  \textbf{Signal Processing Design}     & \textbf{Description}                      \\ \hline
            Onboard Computer Processing           & Sensing, localization, drone control      \\
            Offboard Computer Processing          & None                                      \\
            SDR FPGA Processing                   & Available if needed                       \\
            Real Time Localization                & Yes                                       \\
            Sampling Technique                    & Sample at one spot, move to next spot     \\
            Sampling Space Distance               & User Controlled                           \\
            Number of Samples per Location        & Bursts every half second                  \\
            Localization Method                   & RSS Triangulation (Average RSS over time) \\
            Energy Sensing Technique              & Filter and energy detection               \\ \hline
\end{tabular}
\end{table}\par
\pagebreak
\section{Approach Four}
\begin{table}[h]
\centering
\caption{Approach Four Design Configuration}
\label{table:approach_four}
\begin{tabular}{|l|l|}
    \hline  \textbf{Hardware Design}              & \textbf{Description}                      \\ \hline
            Drone                                 & 3DR Solo                                  \\
            SDR                                   & B-200 Mini                                \\
            Antenna                               & Alfa APA-M25                              \\
            Flight Time                           & 25 min                                    \\
            Flight Speed                          & 5-10 mph                                  \\
            SBC (Computer)                        & Up Board                                  \\
            Compute Battery                       & 12V 800mAh stepped down to 5V             \\
            Payload                               & 700 grams                                 \\
            Storage                               & 32 GB flash drive                         \\
            Antenna Configuration                 & Sheilding around sensing antenna          \\
    \hline  \textbf{Communications Design}        & \textbf{Description}                      \\ \hline
            Drone operation                       & Human Controlled                          \\
            Environment to Drone Frequency        & 2.4 GHz                                   \\
            Controller to Drone TX Frequency      & 2.4 GHz                                   \\
            Controller to Drone TX Period         & Instantaneous (Drone dependent)           \\
            Controller to Drone TX Content        & Control                                   \\
            Drone to Base TX Frequency            & 900 MHz                                   \\
            Drone to Base TX Period               & 2 Hz (Every time drone stops)             \\
            Drone to Base TX Content              & Location and power level if detected      \\
    \hline  \textbf{Signal Processing Design}     & \textbf{Description}                      \\ \hline
            Onboard Computer Processing           & Sensing                                   \\
            Offboard Computer Processing          & Localization                              \\
            SDR FPGA Processing                   & Available if needed                       \\
            Real Time Localization                & No                                        \\
            Sampling Technique                    & User controlled, record bursts of data    \\
            Sampling Space Distance               & User Controlled                           \\
            Number of Samples per Location        & Bursts every half second                  \\
            Localization Method                   & RSS Triangulation (Average RSS over time) \\
            Energy Sensing Technique              & Filter and energy detection               \\ \hline
\end{tabular}
\end{table}\par
\pagebreak
\chapter{iq\_to\_file Source Code}\label{app:iq_to_file}
\lstinputlisting[basicstyle=\linespread{0.2},language=C++]{../iq_to_file/iq_to_file.cpp}
